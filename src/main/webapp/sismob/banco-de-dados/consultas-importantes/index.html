<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width initial-scale=1">

  <title>Consultas Importantes</title>
  <meta name="description" content="Alterar o período de cadastro da proposta:">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://localhost:4000/sismob/banco-de-dados/consultas-importantes/">
  <link rel="icon" type="image/png" href="/img/logo-mini.png">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
  <script src="//code.jquery.com/jquery-3.1.0.min.js"></script>
  <script src="/js/search.js" type="text/javascript"></script>
  <script src="/js/copy-text.js" type="text/javascript"></script>
  <script src="/js/functions.js" type="text/javascript"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
  <script src="/js/bootstrap.js"type="text/javascript"></script>
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">
      <img src="/img/logo-sismob.png">
      <span class="title-text"></span>
      <span class="label">Wiki</span>
    </a>

    <nav class="site-nav">
      <a href="javascript: void" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
            <a href="/about/"><i class="icon icon-about"></i> Sobre</a>
          
        
          
        
          
            <a href="/pdf.html"><i class="icon icon-pdf"></i> Gerar PDF</a>
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="breadcrumb-placeholder">
  <div class="wrapper breadcrumb-wrapper">
    <ol class="breadcrumb">
      <img src="/img/logo-mini.png">
      <li><a href="/">Home</a></li>

      
        
          
            <li><a title="Banco de Dados" href="/sismob/banco-de-dados/index.html">Banco de Dados</a></li>
          
        
          
            <li><a title="Consultas Importantes" href="/sismob/banco-de-dados/consultas-importantes/index.html">Consultas Importantes</a></li>
          
        

      
    </ol>
  </div>
</div>


    <div class="page-content">
      <div class="wrapper">

        <div class="sidebar">
          <div class="sidebar-content">
            <form action="/search.html">
  <input type="search" placeholder="Pesquisar..." name="q" id="search-input" autocomplete="off">
</form>

<ul id="search-results"></ul>

<script>
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('search-results'),
    json: '/search.json',
    noResultsText: 'Nenhum resultado encontrado'
  });
</script>

<div class="menu">
  



  

  <ul>
    
      <li>
        <a title="Voltar para Home" href="/" class="back-link">
          <i class="icon icon-back"></i> Voltar
          <small>(Home)</small>
        </a>
      </li>
    

    <li>
      <a class="open" title="Banco de Dados" href="/sismob/banco-de-dados/index.html">Banco de Dados</a>
      <ul>
        
          <li class="active">
          
            <a title="Consultas Importantes" href="/sismob/banco-de-dados/consultas-importantes/index.html">
              Consultas Importantes
            </a>
          </li>
        
          <li >
          
            <a title="Dumps e Configurações" href="/sismob/banco-de-dados/dumps-e-config/index.html">
              Dumps e Configurações
            </a>
          </li>
        
          <li >
          
            <a title="Padrão de Nomenclatura" href="/sismob/banco-de-dados/nomenclatura/index.html">
              Padrão de Nomenclatura
            </a>
          </li>
        
      </ul>
    </li>
  </ul>


</div>

          </div>
        </div>

        <div class="content">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">Consultas Importantes</h1>
    <p class="post-meta">
      

<!-- <a class="btn" href="https://github.com/sismob/sismob/blob/master/sismob.testers/_sismob/banco-de-dados/consultas-importantes/index.markdown">
  <i class="icon icon-git"></i> Código fonte desta página
</a> -->

      <a class="btn" href="/pdf.html?include=/sismob/banco-de-dados/consultas-importantes/index.html"><i class="icon icon-pdf"></i> Gerar PDF desta página</a>
      
        <span class="label" title="Data da última modificação">Alterado em 31/08/2017</span>
      
    </p>
  </header>

  <article class="post-content">
    <h2 id="alterar-o-período-de-cadastro-da-proposta">Alterar o período de cadastro da proposta:</h2>

<p>Altera o período de cadastro de proposta para o fim das 4 datas em 31/12/2018.</p>

<div class="highlighter-rouge">
  <pre class="highlight">
  <!-- Atribuição da Id abaixo -->
    <code class="textarea" id="altera-periodo-proposta">
    <!-- Query/Consulta -->
      ALTER TRIGGER dbcorpfns.tra_tbportaria DISABLE;

      UPDATE dbcorpfns.tb_portaria
          SET DT_FIM_VIGENCIA = TO_DATE('31/12/2018','DD/MM/YYYY'),
          DT_INICIO_VIGENCIA = TO_DATE('31/12/2016','DD/MM/YYYY'),
          DT_FIM_DILIGENCIA = TO_DATE('31/12/2018','DD/MM/YYYY'),
          DT_FIM_ANALISE = TO_DATE('31/12/2018','DD/MM/YYYY')
      WHERE
          co_seq_portaria in (45, 46);

      ALTER TRIGGER dbcorpfns.tra_tbportaria ENABLE;
      COMMIT;
      <!-- Fim da Query/Consulta -->
    </code>
  </pre>
  <button class="copiar btn" onclick="copiar('altera-periodo-proposta')">Copiar Script</button>
</div>

<h2 id="alterar-o-proponente-da-proposta">Alterar o proponente da proposta:</h2>

<p>Altera o proponente de uma proposta para a mesma poder ser utilizada por um técnico em ‘Florianópolis’.</p>

<div class="highlighter-rouge">
  <pre class="highlight">
  <!-- Atribuição da Id abaixo -->
    <code class="textarea" id="altera-proponente">
      <!-- Query/Consulta -->
      UPDATE DBSISMOB.TB_PROPOSTA
      SET CO_ATOR_PESSOA_ENTIDADE = 5624687, CO_ENDERECO = 181
      WHERE NU_PROPOSTA = :NU_PROPOSTA;
      commit;
      <!-- Fim da Query/Consulta -->
    </code>
  </pre>
  <button class="copiar btn" onclick="copiar('altera-proponente')">Copiar Script</button>
</div>

<h2 id="alterar-as-senhas-para-123qwe">Alterar as senhas para 123qwe:</h2>

<p>Altera a senha de todos os usuário para 123qwe.</p>

<div class="highlighter-rouge">
  <pre class="highlight">
  <!-- Atribuição da Id abaixo -->
    <code class="textarea" id="altera-senhas">
      <!-- Query/Consulta -->
      UPDATE dbsismob.tb_autenticacao
      SET ds_senha  = '$2a$11$bQtFzFwniBDi/0z7r3.r2ubM13P9ni88mhlz3KIB0nShIh6XKsWAK';
      COMMIT;
      <!-- Fim da Query/Consulta -->
    </code>
  </pre>
  <button class="copiar btn" onclick="copiar('altera-senhas')">Copiar Script</button>
</div>

<h2 id="buscar-algum-cnes-para-inserir-na-etapa-de-funcionamento">Buscar algum CNES para inserir na etapa de funcionamento:</h2>

<p>Busca todos os CNES de um município específico, não levando em consideração o ‘Tipo de Obra’.</p>

<div class="highlighter-rouge">
  <pre class="highlight">
  <!-- Atribuição da Id abaixo -->
    <code class="textarea" id="busca-cnes">
      <!-- Query/Consulta -->
      select CO_CNES, NO_BAIRRO from DBCNESRJ.TB_ESTABELECIMENTO where CO_MUNICIPIO_GESTOR = Código do Município;
      <!-- Fim da Query/Consulta -->
    </code>
  </pre>
  <button class="copiar btn" onclick="copiar('busca-cnes')">Copiar Script</button>
</div>

<h2 id="buscar-cnpj-de-uma-fmsfes-específica">Buscar CNPJ de uma FMS/FES específica:</h2>

<p>Busca o CNPJ de uma entidade através do nome do município/estado que a representa.</p>

<div class="highlighter-rouge">
  <pre class="highlight">
  <!-- Atribuição da Id abaixo -->
    <code class="textarea" id="busca-cnpj">
      <!-- Query/Consulta -->
      SELECT NO_PADRONIZADO, NU_CNPJ
      FROM DBSISMOB.TB_ATOR_PESSOA_ENTIDADE
      WHERE NO_PADRONIZADO LIKE '%NOME_CIDADE_EM_CAPS%';
      <!-- Fim da Query/Consulta -->
    </code>
  </pre>
  <button class="copiar btn" onclick="copiar('busca-cnpj')">Copiar Script</button>
</div>

<h2 id="buscar-o-ibge-de-um-município-específico">Buscar o IBGE de um município específico:</h2>

<p>Busca o código IBGE do município.</p>

<div class="highlighter-rouge">
  <pre class="highlight">
  <!-- Atribuição da Id abaixo -->
    <code class="textarea" id="busca-ibge">
      <!-- Query/Consulta -->
      SELECT CO_MUNICIPIO_IBGE FROM DBSISMOB.TB_ATOR_PESSOA_ENTIDADE
      WHERE NO_PADRONIZADO LIKE %NOME_CIDADE_EM_CAPS%';
      <!-- Fim da Query/Consulta -->
    </code>
  </pre>
  <button class="copiar btn" onclick="copiar('busca-ibge')">Copiar Script</button>
</div>

<h2 id="buscar-todos-os-perfis-que-estão-expirados">Buscar todos os perfis que estão expirados:</h2>

<p>Busca todos os perfis que estão com o período de utilização expirados.</p>

<div class="highlighter-rouge">
  <pre class="highlight">
  <!-- Atribuição da Id abaixo -->
    <code class="textarea" id="busca-perfis-expirados">
      <!-- Query/Consulta -->
      SELECT dadoPessoal.NU_CPF, atorPapel.DT_FIM, entidade.NU_CNPJ
      FROM DBSISMOB.TB_ATOR_PAPEL atorPapel

      INNER JOIN DBSISMOB.TB_ATOR_PESSOA_ENTIDADE entidade
      ON entidade.CO_ATOR = atorPapel.CO_ATOR_PESSOA_ENTIDADE

      INNER JOIN DBSISMOB.TB_ATOR_PESSOA_FISICA pessoaFisica
      ON pessoaFisica.CO_ATOR = atorPapel.CO_ATOR

      INNER JOIN DBSISMOB.TB_ATOR_DADO_PESSOAL dadoPessoal
      ON dadoPessoal.CO_SEQ_ATOR_DADO_PESSOAL = pessoaFisica.CO_ATOR_DADO_PESSOAL

      WHERE atorPapel.DT_FIM &lt; DATA_DE_HOJE (DD/MM/AAAA)’';
      <!-- Fim da Query/Consulta -->
    </code>
  </pre>
  <button class="copiar btn" onclick="copiar('busca-perfis-expirados')">Copiar Script</button>
</div>

<h2 id="criar-programas-e-emendas-para-um-município-específico">Criar programas e emendas para um município específico:</h2>

<p>Cria 5 programas e 5 programas com 5 emendas cada no FMS de Florianópolis.</p>

<div class="highlighter-rouge">
  <pre class="highlight">
  <!-- Atribuição da Id abaixo -->
    <code class="textarea" id="criar-programas-emendas">
      <!-- Query/Consulta -->
      ALTER TRIGGER DBCORPFNS.TRA_RLPRGESTOBJETOESFERA DISABLE;
      INSERT INTO DBCORPFNS.RL_PROGRAMA_ACAO (CO_PROGRAMA, CO_ACAO, NU_ANO_EXERCICIO) VALUES ('UFSC', 'UFSC', '2017');
      DECLARE
      CNPJ_FUNCDO_FLORIPA VARCHAR2(14) := '08935681000191';
      CO_MUNICIPIO_IBGE_FLORIPA VARCHAR2(6) := '420540';
      CO_SEQ_ACAO_ID VARCHAR(4) := 'UFSC';
      ANO VARCHAR(4) := '2017';
      QUANTIDADE_OBJETOS_PROGRAMA NUMBER(2):= 5;
      QUANTIDADE_OBJETOS_EMENDA NUMBER(2):= 5;
      QUANTIDADE_EMENDAS NUMBER(2):= 5;
      VALOR NUMBER(10) := 1234567890;
      VALOR_EMENDA NUMBER(10) := VALOR / QUANTIDADE_EMENDAS;
      ID_PARLAMENTAR VARCHAR(4):= '5265';
      BEGIN

      FOR TIPO_PROPOSTA IN (SELECT * FROM DBPROPOSTAFNS.TB_TIPO_PROPOSTA) LOOP
      FOR I IN 1..QUANTIDADE_OBJETOS_PROGRAMA LOOP

      INSERT INTO DBCORPFNS.VW_ESFERA_TIPO_ENT_ATIVO_PES (CO_SEQ_ESFERA_TIPO_ENT_PESSOA,NU_CPF_CNPJ_PESSOA,CO_TIPO_ENTIDADE)
      (SELECT MAX(CO_SEQ_ESFERA_TIPO_ENT_PESSOA) + 1,CNPJ_FUNCDO_FLORIPA,'13' FROM DBCORPFNS.VW_ESFERA_TIPO_ENT_ATIVO_PES);

      INSERT INTO DBPROPOSTAFNS.TB_OBJETO (CO_SEQ_OBJETO, DS_OBJETO, CO_GND, NU_ANO_EXERCICIO, ST_ATIVO)
        (SELECT MAX(CO_SEQ_OBJETO) + 1, 'TESTE INTERNO - BRIDGE' || (MAX(CO_SEQ_OBJETO) + 1), '4', ANO, 'S' FROM DBPROPOSTAFNS.TB_OBJETO);

      DECLARE LAST_VALUE_OBJ NUMBER;
      BEGIN
      SELECT MAX(CO_SEQ_OBJETO) INTO LAST_VALUE_OBJ FROM DBPROPOSTAFNS.TB_OBJETO;

      INSERT INTO DBPROPOSTAFNS.RL_TIPOPROPOSTA_OBJETO (CO_SEQ_TIPOPROPOSTA_OBJETO,CO_TIPO_PROPOSTA,CO_TIPO_RECURSO,CO_OBJETO,CO_ACAO)
      (SELECT MAX(CO_SEQ_TIPOPROPOSTA_OBJETO) + 1, TIPO_PROPOSTA.CO_TIPO_PROPOSTA,'2',LAST_VALUE_OBJ,CO_SEQ_ACAO_ID FROM DBPROPOSTAFNS.RL_TIPOPROPOSTA_OBJETO);

      DECLARE LAST_VALUE_TIPO_PROPOSTA_OBJ NUMBER;
      BEGIN
      SELECT MAX(CO_SEQ_TIPOPROPOSTA_OBJETO) INTO LAST_VALUE_TIPO_PROPOSTA_OBJ FROM DBPROPOSTAFNS.RL_TIPOPROPOSTA_OBJETO;

      INSERT INTO DBCORPFNS.RL_PRGEST_OBJETO_ESFERA (CO_SEQ_PRGEST_OBJETO_ESFERA,CO_PROGRAMA_ESTRATEGICO,CO_TIPOPROPOSTA_OBJETO,CO_ESFERA_ADMINISTRATIVA)
        (SELECT MAX(CO_SEQ_PRGEST_OBJETO_ESFERA) + 1, '245',LAST_VALUE_TIPO_PROPOSTA_OBJ,'02' FROM DBCORPFNS.RL_PRGEST_OBJETO_ESFERA);

      DECLARE LAST_VALUE_OBJ_ESFERA NUMBER;
      BEGIN
      SELECT MAX(CO_SEQ_PRGEST_OBJETO_ESFERA) INTO LAST_VALUE_OBJ_ESFERA FROM DBCORPFNS.RL_PRGEST_OBJETO_ESFERA;

      INSERT INTO DBPROPOSTAFNS.RL_PRGESTOBJESF_TIPOENTIDADE (CO_PRGEST_OBJETO_ESFERA,CO_TIPO_ENTIDADE)
      VALUES (LAST_VALUE_OBJ_ESFERA,'13');

      INSERT INTO DBPROPOSTAFNS.TB_INDICACAO_OBJETO (CO_SEQ_INDIC_OBJETO, VL_OBJETO, DS_OBSERVACAO, NU_CPF_CNPJ_PESSOA, DS_USUARIO, DS_IP_USUARIO, CO_PRGEST_OBJETO_ESFERA)
        (SELECT MAX(CO_SEQ_INDIC_OBJETO) + 1, VALOR, 'INDICAÇÃO OBJETO - TESTE INTERNO BRIDGE', CNPJ_FUNCDO_FLORIPA, 'TESTE BRIDGE', '127.0.0.1', LAST_VALUE_OBJ_ESFERA FROM DBPROPOSTAFNS.TB_INDICACAO_OBJETO);

      DECLARE LAST_VALUE_INDIC_OBJ NUMBER;
      BEGIN
      SELECT MAX(CO_SEQ_INDIC_OBJETO) INTO LAST_VALUE_INDIC_OBJ FROM DBPROPOSTAFNS.TB_INDICACAO_OBJETO;

      INSERT INTO DBPROPOSTACONVENIO.RL_INDOBJ_PROJETO (CO_SEQ_INDOBJ_EMENDA_PROJETO, CO_INDIC_OBJETO, CO_EMENDA, CO_PROCESSO, VL_INDICADO, DS_USUARIO, DS_IP_USUARIO, ST_LIMITE_SRI)
        (SELECT MAX(CO_SEQ_INDOBJ_EMENDA_PROJETO) + 1, LAST_VALUE_INDIC_OBJ, NULL, NULL, VALOR, 'TESTE SISMOB - BRIDGE', '127.0.0.1', 'N' FROM DBPROPOSTACONVENIO.RL_INDOBJ_PROJETO);

      END;
      END;
      END;
      END;
      END LOOP;

      FOR J IN 1..QUANTIDADE_OBJETOS_EMENDA LOOP

      INSERT INTO DBCORPFNS.VW_ESFERA_TIPO_ENT_ATIVO_PES (CO_SEQ_ESFERA_TIPO_ENT_PESSOA,NU_CPF_CNPJ_PESSOA,CO_TIPO_ENTIDADE)
      (SELECT MAX(CO_SEQ_ESFERA_TIPO_ENT_PESSOA) + 1,CNPJ_FUNCDO_FLORIPA,'13' FROM DBCORPFNS.VW_ESFERA_TIPO_ENT_ATIVO_PES);

      INSERT INTO DBPROPOSTAFNS.TB_OBJETO (CO_SEQ_OBJETO, DS_OBJETO, CO_GND, NU_ANO_EXERCICIO, ST_ATIVO)
        (SELECT MAX(CO_SEQ_OBJETO) + 1, 'TESTE INTERNO - BRIDGE - CO_SEQ_OBJETO = ' || (MAX(CO_SEQ_OBJETO) + 1), '4', ANO, 'S' FROM DBPROPOSTAFNS.TB_OBJETO);

      DECLARE LAST_VALUE_OBJ2 NUMBER;
      BEGIN
      SELECT MAX(CO_SEQ_OBJETO) INTO LAST_VALUE_OBJ2 FROM DBPROPOSTAFNS.TB_OBJETO;

      INSERT INTO DBPROPOSTAFNS.RL_TIPOPROPOSTA_OBJETO (CO_SEQ_TIPOPROPOSTA_OBJETO,CO_TIPO_PROPOSTA,CO_TIPO_RECURSO,CO_OBJETO,CO_ACAO)
      (SELECT MAX(CO_SEQ_TIPOPROPOSTA_OBJETO) + 1,TIPO_PROPOSTA.CO_TIPO_PROPOSTA,'2',LAST_VALUE_OBJ2,'UFSC' FROM DBPROPOSTAFNS.RL_TIPOPROPOSTA_OBJETO);

      DECLARE LAST_VALUE_TIPO_PROPOSTA_OBJ2 NUMBER;
      BEGIN
      SELECT MAX(CO_SEQ_TIPOPROPOSTA_OBJETO) INTO LAST_VALUE_TIPO_PROPOSTA_OBJ2 FROM DBPROPOSTAFNS.RL_TIPOPROPOSTA_OBJETO;

      INSERT INTO DBCORPFNS.RL_PRGEST_OBJETO_ESFERA (CO_SEQ_PRGEST_OBJETO_ESFERA,CO_PROGRAMA_ESTRATEGICO,CO_TIPOPROPOSTA_OBJETO,CO_ESFERA_ADMINISTRATIVA)
        (SELECT MAX(CO_SEQ_PRGEST_OBJETO_ESFERA) + 1, '245',LAST_VALUE_TIPO_PROPOSTA_OBJ2,'02' FROM DBCORPFNS.RL_PRGEST_OBJETO_ESFERA);

      DECLARE LAST_VALUE_OBJ_ESFERA2 NUMBER;
      BEGIN
      SELECT MAX(CO_SEQ_PRGEST_OBJETO_ESFERA) INTO LAST_VALUE_OBJ_ESFERA2 FROM DBCORPFNS.RL_PRGEST_OBJETO_ESFERA;

      INSERT INTO DBPROPOSTAFNS.RL_PRGESTOBJESF_TIPOENTIDADE (CO_PRGEST_OBJETO_ESFERA,CO_TIPO_ENTIDADE)
      VALUES (LAST_VALUE_OBJ_ESFERA2,'13');

      INSERT INTO DBPROPOSTAFNS.TB_INDICACAO_OBJETO (CO_SEQ_INDIC_OBJETO, VL_OBJETO, DS_OBSERVACAO, NU_CPF_CNPJ_PESSOA, DS_USUARIO, DS_IP_USUARIO, CO_PRGEST_OBJETO_ESFERA)
        (SELECT MAX(CO_SEQ_INDIC_OBJETO) + 1, VALOR, 'INDICAÇÃO OBJETO - TESTE INTERNO BRIDGE', CNPJ_FUNCDO_FLORIPA, 'TESTE BRIDGE', '127.0.0.1', LAST_VALUE_OBJ_ESFERA2 FROM DBPROPOSTAFNS.TB_INDICACAO_OBJETO);

      DECLARE LAST_VALUE_INDIC_OBJ2 NUMBER;
      BEGIN
      SELECT MAX(CO_SEQ_INDIC_OBJETO) INTO LAST_VALUE_INDIC_OBJ2 FROM DBPROPOSTAFNS.TB_INDICACAO_OBJETO;

      INSERT INTO DBCORPFNS.TB_FUNCIONAL (CO_PTRES,NU_ANO_EXERCICIO,CO_ACAO,CO_PROGRAMA,CO_FUNCIONAL)
      (SELECT MAX(CO_PTRES) + 1,ANO,CO_SEQ_ACAO_ID,'0000','10301121485812104' FROM DBCORPFNS.TB_FUNCIONAL);

      DECLARE LAST_VALUE_FUNCIONAL NUMBER;
      BEGIN
      SELECT MAX(CO_PTRES) INTO LAST_VALUE_FUNCIONAL FROM DBCORPFNS.TB_FUNCIONAL;

      FOR K IN 1..QUANTIDADE_EMENDAS LOOP

      INSERT INTO DBPROPOSTAFNS.TB_EMENDA (CO_SEQ_EMENDA, NU_EMENDA, NU_FONTE, NU_ANO_EXERCICIO, DS_TITULO, CO_PTRES, CO_GND, CO_MODALIDADE, CO_PARLAMENTAR, CO_MUNICIPIO_IBGE, VL_EMENDA, ST_BLOQUEADA, VL_SALDO_EMENDA, CO_OBJETO)
        (SELECT MAX(CO_SEQ_EMENDA) + 1, '012345' || K, '0123', ANO, 'EMENDA DE TESTE - BRIDGE', LAST_VALUE_FUNCIONAL, '3', '40', ID_PARLAMENTAR, CO_MUNICIPIO_IBGE_FLORIPA, VALOR, 'N', VALOR, LAST_VALUE_OBJ2 FROM DBPROPOSTAFNS.TB_EMENDA);

      DECLARE LAST_VALUE_EMENDA2 NUMBER;
      BEGIN
      SELECT MAX(CO_SEQ_EMENDA) INTO LAST_VALUE_EMENDA2 FROM DBPROPOSTAFNS.TB_EMENDA;

      INSERT INTO DBPROPOSTACONVENIO.RL_INDOBJ_PROJETO (CO_SEQ_INDOBJ_EMENDA_PROJETO, CO_INDIC_OBJETO, CO_EMENDA, VL_INDICADO, DS_USUARIO, DS_IP_USUARIO, ST_LIMITE_SRI)
        (SELECT MAX(CO_SEQ_INDOBJ_EMENDA_PROJETO) + 1, LAST_VALUE_INDIC_OBJ2, LAST_VALUE_EMENDA2, VALOR_EMENDA, 'TESTE SISMOB - BRIDGE', '127.0.0.1', 'N' FROM DBPROPOSTACONVENIO.RL_INDOBJ_PROJETO);

      END;
      END LOOP;
      END;
      END;
      END;
      END;
      END;
      END LOOP;
      END LOOP;
      END;
      <!-- Fim da Query/Consulta -->
    </code>
  </pre>
  <button class="copiar btn" onclick="copiar('criar-programas-emendas')">Copiar Script</button>
</div>

<h2 id="criar-solicitação-de-etapa">Criar solicitação de etapa:</h2>

<p>Cria uma solicitação de etapa anterior a etapa de uma proposta específica.</p>

<div class="highlighter-rouge">
  <pre class="highlight">
  <!-- Atribuição da Id abaixo -->
    <code class="textarea" id="criar-solicitacao-etapa">
      <!-- Query/Consulta -->
      :XXXX;
      define var_co_proposta = &XXXX;

      UPDATE DBSISMOB.TB_TRAMITE
      SET ST_ABERTO   = 'N', st_ultimo='N'
      WHERE CO_PROPOSTA =
        &amp;var_co_proposta
      AND CO_TIPO_TRAMITE in (2,10);

      UPDATE DBSISMOB.TB_SOLICITACAO_PARCELA
      SET ST_ULTIMO   ='N'
      WHERE CO_PROPOSTA =
        &var_co_proposta;

      INSERT
      INTO DBSISMOB.TB_SOLICITACAO_PARCELA
        (CO_SEQ_SOLICITACAO_PARCELA, CO_PARCELA,ST_REGISTRO_ATIVO, CO_ETAPA_PROPOSTA,ST_ULTIMO, CO_PROPOSTA,CO_SITUACAO_SOLICITACAO)
        VALUES
        (
          DBSISMOB.SQ_SOLPARCELA_COSEQSOLPARCELA.NEXTVAL,
          1,
          'S',
          1,
          'S',
          &amp;var_co_proposta,
          1
        );

      INSERT
      INTO DBSISMOB.TB_TRAMITE
        (
          CO_SEQ_TRAMITE,
          CO_ATOR_PAPEL,
          DT_TRAMITE,
          ST_REGISTRO_ATIVO,
          CO_TIPO_TRAMITE,
          ST_ABERTO,
          CO_SOLICITACAO_PARCELA,
          TP_SERIALIZADOR,
          NU_UNICO,
          ST_ULTIMO,
          DS_TRAMITE,
          CO_PROPOSTA
        )
        VALUES
        (
          DBSISMOB.SQ_TRAMITE_COSEQTRAMITE.NEXTVAL,
          2,
          CURRENT_TIMESTAMP,
          'S',
          10,
          'S',
          DBSISMOB.SQ_SOLPARCELA_COSEQSOLPARCELA.CURRVAL,
          0,
          SYS_GUID(),
          'S',
          'Obra concluída e solicitada superação da etapa de ação preparatória da obra, dados importados do SISMOB 1.0, desativado em 07/03/2017',
          &amp;var_co_proposta
        );
      <!-- Fim da Query/Consulta -->
    </code>
  </pre>
  <button class="copiar btn" onclick="copiar('criar-solicitacao-etapa')">
&lt;/div&gt;
Copiar Script</button>


## Inserir as diligências e alteração de endereço:

Inclui as diligências para uma 'Solicitação de alteração de endereço'.

<div class="highlighter-rouge">
  <pre class="highlight">
  <!-- Atribuição da Id abaixo -->
    <code class="textarea" id="inserir-diligencias-endereco">
      <!-- Query/Consulta -->
      INSERT INTO tb_diligencia (co_seq_diligencia, co_tipo_diligencia, co_parcela, tp_solicitacao_tramite, co_parametrizacao, st_registro_ativo, co_tipo_tramite, co_etapa_proposta) WITH diligencia AS (
          SELECT MAX(co_seq_diligencia) + 1 AS co FROM tb_diligencia) SELECT diligencia.co, 20200025, NULL, 1, 1,'S', NULL, 1 FROM diligencia;

      INSERT INTO tb_diligencia (co_seq_diligencia, co_tipo_diligencia, co_parcela, tp_solicitacao_tramite, co_parametrizacao, st_registro_ativo, co_tipo_tramite, co_etapa_proposta) WITH diligencia AS (
          SELECT MAX(co_seq_diligencia) + 1 AS co FROM tb_diligencia) SELECT diligencia.co, 849999, NULL, 1, 1,'S', NULL, 1 FROM diligencia;

      INSERT INTO tb_diligencia (co_seq_diligencia, co_tipo_diligencia, co_parcela, tp_solicitacao_tramite, co_parametrizacao, st_registro_ativo, co_tipo_tramite, co_etapa_proposta) WITH diligencia AS (
          SELECT MAX(co_seq_diligencia) + 1 AS co FROM tb_diligencia) SELECT diligencia.co, 369999, NULL, 1, 1, 'S', NULL, 1 FROM diligencia;

      COMMIT;
      <!-- Fim da Query/Consulta -->
    </code>
  </pre>
  <button class="copiar btn" onclick="copiar('inserir-diligencias-endereco')">Copiar Script</button>
</div>


## Migração para ser executado no novo dump:

Migração que precisa ser executada no novo dump. Necessário executar antes de subir o servidor.

<div class="highlighter-rouge">
  <pre class="highlight">
  <!-- Atribuição da Id abaixo -->
    <code class="textarea" id="migracao-novo-dump">
      <!-- Query/Consulta -->
      ALTER TABLE DBSISMOB.TB_PARECER_BLOQUEIO RENAME TO TB_BLOQUEIO;
      ALTER TABLE DBSISMOB.TB_BLOQUEIO DROP CONSTRAINT PK_PARECERBLOQUEIO;
      ALTER TABLE DBSISMOB.TB_BLOQUEIO DROP COLUMN CO_TRAMITE CASCADE CONSTRAINTS;
      ALTER TABLE DBSISMOB.TB_BLOQUEIO ADD (NU_REGISTRO NUMBER(12) NOT NULL);
      COMMENT ON COLUMN DBSISMOB.TB_BLOQUEIO.NU_REGISTRO IS 'Número do registro a ser bloqueado.';
      ALTER TABLE DBSISMOB.TB_BLOQUEIO MODIFY (CO_OPERACAO NOT NULL);
      ALTER TABLE DBSISMOB.TB_BLOQUEIO ADD CONSTRAINT PK_BLOQUEIO PRIMARY KEY (NU_REGISTRO,CO_OPERACAO) ENABLE;

      DELETE FROM DBSISMOB.TB_TIPO_OPERACAO;
      INSERT INTO DBSISMOB.TB_TIPO_OPERACAO (CO_SEQ_TIPO_OPERACAO, DS_TIPO_OPERACAO) VALUES ('1', 'Proposta');
      INSERT INTO DBSISMOB.TB_TIPO_OPERACAO (CO_SEQ_TIPO_OPERACAO, DS_TIPO_OPERACAO) VALUES ('2', 'Usuário');
      INSERT INTO DBSISMOB.TB_TIPO_OPERACAO (CO_SEQ_TIPO_OPERACAO, DS_TIPO_OPERACAO) VALUES ('3', 'Solicitação de acesso');
      <!-- Fim da Query/Consulta -->
    </code>
  </pre>
  <button class="copiar btn" onclick="copiar('migracao-novo-dump')">Copiar Script</button>
</div>


## Popular base de solicitações:

Apaga todas as solicitações atuais (etapa, prorrogação de prazo, etc) e cria 3 solicitações em cada situação possível para cada tipo de situação (útil para testar os filtros das listagens).

<div class="highlighter-rouge">
  <pre class="highlight">
  <!-- Atribuição da Id abaixo -->
    <code class="textarea" id="solicitacoes-na-base">
      <!-- Query/Consulta -->
      ----------------------------------- DESATIVANDO TODAS AS SOLICITAÇÕES  -----------------------------------
      UPDATE TB_SOLICITACAO_PARCELA
      SET ST_REGISTRO_ATIVO = 'N', ST_ULTIMO = 'N';
      DELETE FROM DBSISMOB.TB_SOLICITACAO_PRORROGACAO
      WHERE CO_SEQ_SOLICITACAO_PRORROGACAO &gt; 681;
      UPDATE TB_CANCELAMENTO_OBRA_PROPONEN
      SET ST_REGISTRO_ATIVO = 'N';
      UPDATE dbsismob.tb_solicitacao_alteracao_endrc
      SET ST_REGISTRO_ATIVO = 'N';

      ----------------------------------- SOLICITACAO DE ALTERAÇÃO DE ENDEREÇO  -----------------------------------
      UPDATE dbsismob.tb_solicitacao_alteracao_endrc
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 1
      WHERE CO_SEQ_SOLICITACAO_ALTRC_ENDRC IN (1, 21, 41, 61, 81);

      UPDATE dbsismob.tb_solicitacao_alteracao_endrc
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 2
      WHERE CO_SEQ_SOLICITACAO_ALTRC_ENDRC IN (101, 121, 141, 161, 181);

      UPDATE dbsismob.tb_solicitacao_alteracao_endrc
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 3
      WHERE CO_SEQ_SOLICITACAO_ALTRC_ENDRC IN (201, 221, 241, 261, 281);

      UPDATE dbsismob.tb_solicitacao_alteracao_endrc
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 4
      WHERE CO_SEQ_SOLICITACAO_ALTRC_ENDRC IN (301, 321, 341, 361, 381);

      UPDATE dbsismob.tb_solicitacao_alteracao_endrc
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 5
      WHERE CO_SEQ_SOLICITACAO_ALTRC_ENDRC IN (401, 421, 441, 461, 481);

      UPDATE dbsismob.tb_solicitacao_alteracao_endrc
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 6
      WHERE CO_SEQ_SOLICITACAO_ALTRC_ENDRC IN (501, 521, 541, 561, 581);

      UPDATE dbsismob.tb_solicitacao_alteracao_endrc
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 7
      WHERE CO_SEQ_SOLICITACAO_ALTRC_ENDRC IN (601, 621, 641, 661, 681);

      ----------------------------------- SOLICITACAO DE PRORROGAÇÃO DE PRAZO -----------------------------------
      UPDATE dbsismob.TB_SOLICITACAO_PRORROGACAO
      SET co_situacao_solicitacao = 1
      WHERE CO_SEQ_SOLICITACAO_PRORROGACAO IN (1, 21, 41, 61, 81);

      UPDATE dbsismob.TB_SOLICITACAO_PRORROGACAO
      SET co_situacao_solicitacao = 2
      WHERE CO_SEQ_SOLICITACAO_PRORROGACAO IN (101, 121, 141, 161, 181);

      UPDATE dbsismob.TB_SOLICITACAO_PRORROGACAO
      SET co_situacao_solicitacao = 3
      WHERE CO_SEQ_SOLICITACAO_PRORROGACAO IN (201, 221, 241, 261, 281);

      UPDATE dbsismob.TB_SOLICITACAO_PRORROGACAO
      SET co_situacao_solicitacao = 4
      WHERE CO_SEQ_SOLICITACAO_PRORROGACAO IN (301, 321, 341, 361, 381);

      UPDATE dbsismob.TB_SOLICITACAO_PRORROGACAO
      SET co_situacao_solicitacao = 5
      WHERE CO_SEQ_SOLICITACAO_PRORROGACAO IN (401, 421, 441, 461, 481);

      UPDATE dbsismob.TB_SOLICITACAO_PRORROGACAO
      SET co_situacao_solicitacao = 6
      WHERE CO_SEQ_SOLICITACAO_PRORROGACAO IN (501, 521, 541, 561, 581);

      UPDATE dbsismob.TB_SOLICITACAO_PRORROGACAO
      SET co_situacao_solicitacao = 7
      WHERE CO_SEQ_SOLICITACAO_PRORROGACAO IN (601, 621, 641, 661, 681);

      ----------------------------------- SOLICITACAO DE CANCELAMENTO DA OBRA -----------------------------------
      UPDATE dbsismob.TB_CANCELAMENTO_OBRA_PROPONEN
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 1
      WHERE CO_SEQ_TB_CANCELA_OBRA_PROPONE IN (1, 21, 41, 61, 81);

      UPDATE dbsismob.TB_CANCELAMENTO_OBRA_PROPONEN
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 2
      WHERE CO_SEQ_TB_CANCELA_OBRA_PROPONE IN (101, 121, 141, 161, 181);

      UPDATE dbsismob.TB_CANCELAMENTO_OBRA_PROPONEN
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 3
      WHERE CO_SEQ_TB_CANCELA_OBRA_PROPONE IN (201, 221, 241, 261, 281);

      UPDATE dbsismob.TB_CANCELAMENTO_OBRA_PROPONEN
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 4
      WHERE CO_SEQ_TB_CANCELA_OBRA_PROPONE IN (301, 321, 341, 361, 381);

      UPDATE dbsismob.TB_CANCELAMENTO_OBRA_PROPONEN
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 5
      WHERE CO_SEQ_TB_CANCELA_OBRA_PROPONE IN (401, 421, 441, 461, 481);

      UPDATE dbsismob.TB_CANCELAMENTO_OBRA_PROPONEN
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 6
      WHERE CO_SEQ_TB_CANCELA_OBRA_PROPONE IN (501, 521, 541, 561, 581);

      UPDATE dbsismob.TB_CANCELAMENTO_OBRA_PROPONEN
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 7
      WHERE CO_SEQ_TB_CANCELA_OBRA_PROPONE IN (601, 621, 641, 661, 701);

      -----------------------------  SOLICITACAO DE SUPERAÇÃO DE ETAPA AÇÃO PREPARATÓRIA  -----------------------------
      UPDATE dbsismob.TB_SOLICITACAO_PARCELA
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 1, co_etapa_proposta = 1, st_ultimo = 'S'
      WHERE CO_SEQ_SOLICITACAO_PARCELA IN (1, 21, 41, 61, 81);

      UPDATE dbsismob.TB_SOLICITACAO_PARCELA
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 2, co_etapa_proposta = 1, st_ultimo = 'S'
      WHERE CO_SEQ_SOLICITACAO_PARCELA IN (101, 121, 141, 161, 181);

      UPDATE dbsismob.TB_SOLICITACAO_PARCELA
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 4, co_etapa_proposta = 1, st_ultimo = 'S'
      WHERE CO_SEQ_SOLICITACAO_PARCELA IN (301, 321, 341, 361, 381);

      UPDATE dbsismob.TB_SOLICITACAO_PARCELA
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 5, co_etapa_proposta = 1, st_ultimo = 'S'
      WHERE CO_SEQ_SOLICITACAO_PARCELA IN (401, 421, 441, 461, 481);

      UPDATE dbsismob.TB_SOLICITACAO_PARCELA
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 6, co_etapa_proposta = 1, st_ultimo = 'S'
      WHERE CO_SEQ_SOLICITACAO_PARCELA IN (501, 521, 541, 561, 581);

      UPDATE dbsismob.TB_SOLICITACAO_PARCELA
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 7, co_etapa_proposta = 1, st_ultimo = 'S'
      WHERE CO_SEQ_SOLICITACAO_PARCELA IN (601, 621, 641, 661, 681);

      -----------------------------  SOLICITACAO DE SUPERAÇÃO DE ETAPA DE INÍCIO DE EXECUÇÃO -----------------------------
      UPDATE dbsismob.TB_SOLICITACAO_PARCELA
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 1, co_etapa_proposta = 2, st_ultimo = 'S'
      WHERE CO_SEQ_SOLICITACAO_PARCELA IN (701, 721, 741, 761, 781);

      UPDATE dbsismob.TB_SOLICITACAO_PARCELA
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 2, co_etapa_proposta = 2, st_ultimo = 'S'
      WHERE CO_SEQ_SOLICITACAO_PARCELA IN (801, 821, 841, 861, 881);

      UPDATE dbsismob.TB_SOLICITACAO_PARCELA
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 4, co_etapa_proposta = 2, st_ultimo = 'S'
      WHERE CO_SEQ_SOLICITACAO_PARCELA IN (901, 921, 941, 961, 981);

      UPDATE dbsismob.TB_SOLICITACAO_PARCELA
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 5, co_etapa_proposta = 2, st_ultimo = 'S'
      WHERE CO_SEQ_SOLICITACAO_PARCELA IN (1001, 1021, 1041, 1061, 1081);

      UPDATE dbsismob.TB_SOLICITACAO_PARCELA
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 6, co_etapa_proposta = 2, st_ultimo = 'S'
      WHERE CO_SEQ_SOLICITACAO_PARCELA IN (1101, 1121, 1141, 1161, 1181);

      UPDATE dbsismob.TB_SOLICITACAO_PARCELA
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 7, co_etapa_proposta = 2, st_ultimo = 'S'
      WHERE CO_SEQ_SOLICITACAO_PARCELA IN (1201, 1221, 1241, 1261, 1281);

      ----------------------------  SOLICITACAO DE SUPERAÇÃO DE ETAPA DE EXECUÇÃO E CONCLUSÃO ----------------------------
      UPDATE dbsismob.TB_SOLICITACAO_PARCELA
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 1, co_etapa_proposta = 3, st_ultimo = 'S'
      WHERE CO_SEQ_SOLICITACAO_PARCELA IN (1301, 1321, 1341, 1361, 1381);

      UPDATE dbsismob.TB_SOLICITACAO_PARCELA
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 2, co_etapa_proposta = 3, st_ultimo = 'S'
      WHERE CO_SEQ_SOLICITACAO_PARCELA IN (1401, 1421, 1441, 1461, 1481);

      UPDATE dbsismob.TB_SOLICITACAO_PARCELA
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 4, co_etapa_proposta = 3, st_ultimo = 'S'
      WHERE CO_SEQ_SOLICITACAO_PARCELA IN (1501, 1521, 1541, 1561, 1581);

      UPDATE dbsismob.TB_SOLICITACAO_PARCELA
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 5, co_etapa_proposta = 3, st_ultimo = 'S'
      WHERE CO_SEQ_SOLICITACAO_PARCELA IN (1601, 1621, 1641, 1661, 1681);

      UPDATE dbsismob.TB_SOLICITACAO_PARCELA
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 6, co_etapa_proposta = 3, st_ultimo = 'S'
      WHERE CO_SEQ_SOLICITACAO_PARCELA IN (1701, 1721, 1741, 1761, 1781);

      UPDATE dbsismob.TB_SOLICITACAO_PARCELA
      SET st_registro_ativo = 'S', co_situacao_solicitacao = 7, co_etapa_proposta = 3, st_ultimo = 'S'
      WHERE CO_SEQ_SOLICITACAO_PARCELA IN (1801, 1821, 1841, 1861, 1881);

      COMMIT;
      <!-- Fim da Query/Consulta -->
    </code>
  </pre>
  <button class="copiar btn" onclick="copiar('solicitacoes-na-base')">Copiar Script</button>
</div>


## Priorizar todas as propostas:

Prioriza todas as propostas cadastradas até então para poder ser emitido o parecer de habilitação.

<div class="highlighter-rouge">
  <pre class="highlight">
  <!-- Atribuição da Id abaixo -->
    <code class="textarea" id="priorizar-propostas">
      <!-- Query/Consulta -->
      update DBPROPOSTACONVENIO.TB_PROJETO
      set ST_PRIORIDADE = 'S';
      <!-- Fim da Query/Consulta -->
    </code>
  </pre>
  <button class="copiar btn" onclick="copiar('priorizar-propostas')">  Copiar Script</button>
</div>



## Reverter parecer de superação de etapa:

Altera a situação da proposta para o estado anterior ao de um parecer.

<div class="highlighter-rouge">
  <pre class="highlight">
      <!-- Atribuição da Id abaixo -->
    <code class="textarea" id="reverter-parecer-superacao">
      <!-- Query/Consulta -->
      :XXXX;
      DEFINE var_co_proposta = &XXXX;

      UPDATE DBSISMOB.TB_SOLICITACAO_PARCELA
      SET CO_SITUACAO_SOLICITACAO = 1
      WHERE CO_PROPOSTA = &amp;&var_co_proposta;

      UPDATE DBSISMOB.TB_TRAMITE
      SET ST_REGISTRO_ATIVO = 'N'
      WHERE CO_TIPO_TRAMITE = 2 AND ST_ULTIMO = 'S' AND CO_PROPOSTA = &amp;&var_co_proposta;

      UPDATE DBSISMOB.TB_TRAMITE
      SET ST_ABERTO = 'S', CO_PARECER = NULL
      WHERE ST_ULTIMO = 'S' AND CO_TIPO_TRAMITE = 10 AND CO_PROPOSTA = &amp;&var_co_proposta;

      UPDATE DBSISMOB.TB_PARECER
      SET ST_REGISTRO_ATIVO ='N'
      WHERE co_seq_parecer IN (
      SELECT co_parecer
      FROM DBSISMOB.TB_TRAMITE
      WHERE CO_TIPO_TRAMITE = 2 AND ST_ULTIMO = 'S' AND CO_PROPOSTA = &amp;&amp;var_co_proposta);

      UPDATE TB_OBRA
      SET CO_SITUACAO_OBRA = 0
      WHERE CO_PROPOSTA = &amp;&var_co_proposta;

      COMMIT;
      <!-- Fim da Query/Consulta -->
    </code>
  </pre>
  <button class="copiar btn" onclick="copiar('reverter-parecer-superacao')">  Copiar Script</button>
</div>
</div>

  </article>

</div>

        </div>

      </div>
    </div>

    <script src="/js/site.js" type="text/javascript"></script>
  </body>
</html>
